general:
  use_uvloop: true
  logging:
    console:
      _type: console
      level: INFO
  telemetry:
    enabled: false
  front_end:
    _type: console

llms:
  nim_llm:
    _type: nim
    model_name: meta/llama-3.1-70b-instruct
    temperature: 0.0
    max_tokens: 100

# Robot Vision Function Configuration
functions: 
  robot_vision_controller:
    _type: multi_function_agent/robot_vision_controller
    stream_url: "${RTSP_URL:-rtsp://172.17.0.1:8554/robotcam}"
    control_mode: "autonomous"
    navigation_goal: "explore"
    safety_level: "medium"
    max_speed: 0.6
    exploration_speed_boost: 1.5  # Multiplier for explore mode (1.5x = medium safety â†’ near-low safety speed)
    description: "Real-time robot vision navigation and control system"
    
    # SLAM Configuration
    use_slam: true
    slam_map_save_path: "/workspace/my_map"  # Path for auto-generated maps
    slam_auto_save_interval: 5.0  # Save map every N seconds during exploration
    slam_min_mapping_duration: 30.0  # Minimum exploration time for valid map
    use_lidar: true
    lidar_topic: "/scan"
    max_lidar_range: 3.5
    min_valid_range: 0.12
    critical_distance: 0.2
    warning_distance: 0.4
    safe_distance: 1.0
    
    # Robot Controller Configuration
    min_command_interval: 0.05
    connection_timeout: 3.0
    max_linear_velocity: 0.6
    max_angular_velocity: 2.5
    
    # Nav2 Configuration
    use_nav2: true
    nav2_timeout: 60.0
    nav2_goal_tolerance: 0.2
    nav2_angle_tolerance: 0.1
    nav2_fallback_to_manual: true

# ============================================
# FIXED: Use Tool Calling Agent (Direct Execution)
# ============================================
workflow:
  _type: tool_calling_agent
  tool_names:
    - robot_vision_controller
  llm_name: nim_llm
  verbose: false
  max_iterations: 1